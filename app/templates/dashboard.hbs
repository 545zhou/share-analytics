<div class='container-fluid'>
    <div class='container'>
        <div class='row'>
            <div class='col-md-12'>
                <h2>Dashboard</h2>
            </div>
        </div>
    </div>
</div>

<div class='container-fluid'>
    <div class='container'>
        <div class='row'>
            <div class='col-md-12'>
                <h3>Control Panel:</h3>
                {{#bs-accordion selected=selected}}
                     {{#bs-accordion-item value="1" title="Institution (PoC only)"}}
                        <p>Search for new institution: {{input value=query enter='changeQ'}}</p>
                     {{/bs-accordion-item}}
                     {{#bs-accordion-item value="2" title="Dates"}}
                        <p>Start date for institutional data: {{bootstrap-datepicker value=g autoclose=true changeDate='changeGte'}}</p>
                        <p>Update end date for institutional data: {{bootstrap-datepicker value=l autoclose=true changeDate='changeLte'}}</p>
                     {{/bs-accordion-item}}
                     {{#bs-accordion-item value="3" title="Saved Dashboards"}}
                        <p>Save current dashboard: {{input value=n enter='persistDashboard' placeholder='Dashboard Name'}}</p>
                        <p>Saved dashboards: 
                            <ul>
                                {{#each storedDashboards as |sd|}}
                                <li><a {{action 'restoreDash' sd}}>{{sd.name}}</a></li>
                                {{/each}}
                            </ul>
                        </p>
                     {{/bs-accordion-item}}
                {{/bs-accordion}}
            </div>
        </div>
    </div>
</div>
<!--
<div class='container-fluid'>
    <div class='container'>
        <div class='row'>
            <div class='col-md-12' style='border: solid 1px #efefef;'>
                {{timeseries-chart aggregations=model.aggregations interval=tsInterval}}
            </div>
        </div>
    </div>
</div>
-->		<style type="text/css">
			.free-wall {
				margin: 15px;
			}
			.cell {
				cursor: move;
			}
			.cell .cover {
				padding: 15px;
			}
			.handle {
				border: 1px dotted orange;
				padding: 4px
			}
		</style>
        <div id='freewall' class='free-wall'>
                {{#each sortableObjectList as |item|}}
                    {{place-holder aggregations=model.aggregations options=addableList addChart=(action "addChart") removeChart=(action 'removeChart') item=item wall=wall refreshWall=(action 'refreshWall')}}
                {{/each}}
        </div>

<button onclick={{action 'addChart'}} style='clear:both;'>Add a Widget</button>

{{outlet}}
